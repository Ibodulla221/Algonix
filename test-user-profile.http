### User Profile API Tests

### 1. Login to get token
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}

### 2. Get current user profile
GET http://localhost:8080/api/profile/me
Authorization: Bearer {{admin_token}}

### 3. Get user profile by username (public)
GET http://localhost:8080/api/profile/admin

### 4. Update profile
PATCH http://localhost:8080/api/profile/me
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "firstName": "Admin",
  "lastName": "User",
  "bio": "System administrator and platform manager",
  "location": "Tashkent, Uzbekistan",
  "company": "Algonix Platform",
  "jobTitle": "System Administrator",
  "website": "https://algonix.dev",
  "githubUsername": "algonix-admin",
  "isProfilePublic": true,
  "showEmail": false,
  "showLocation": true,
  "showCompany": true
}

### 5. Change password
POST http://localhost:8080/api/profile/me/change-password
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "currentPassword": "admin123",
  "newPassword": "newpassword123",
  "confirmPassword": "newpassword123"
}

### 6. Upload avatar (multipart form data)
# Note: This needs to be tested with a proper HTTP client that supports file upload
# POST http://localhost:8080/api/profile/me/avatar
# Authorization: Bearer {{admin_token}}
# Content-Type: multipart/form-data
# 
# file: [select image file]

### 7. Delete avatar
DELETE http://localhost:8080/api/profile/me/avatar
Authorization: Bearer {{admin_token}}

### 8. Test with test user
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "test123"
}

### 9. Get test user profile
GET http://localhost:8080/api/profile/me
Authorization: Bearer {{testuser_token}}

### 10. Update test user profile
PATCH http://localhost:8080/api/profile/me
Authorization: Bearer {{testuser_token}}
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "bio": "I'm a test user learning algorithms and data structures",
  "location": "Samarkand, Uzbekistan",
  "company": "Student",
  "jobTitle": "Software Developer",
  "githubUsername": "testuser123",
  "isProfilePublic": true,
  "showEmail": false,
  "showLocation": true,
  "showCompany": false
}

### 11. Test profile update with custom data
PATCH http://localhost:8080/api/profile/me
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "firstName": "sdas",
  "lastName": "dasdad",
  "email": "striasddg",
  "bio": "dasdas",
  "location": "dasdas",
  "company": "dasd",
  "jobTitle": "dasd",
  "website": "dasda",
  "githubUsername": "dasdas",
  "linkedinUrl": "dasdas",
  "twitterUsername": "dasdas",
  "isProfilePublic": true,
  "showLocation": true,
  "showCompany": true
}

### 12. Get difficulty statistics
GET http://localhost:8080/api/profile/me/difficulty-stats
Authorization: Bearer {{admin_token}}

### 13. Get category statistics
GET http://localhost:8080/api/profile/me/category-stats
Authorization: Bearer {{admin_token}}